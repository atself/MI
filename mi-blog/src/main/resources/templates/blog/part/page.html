<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<div th:fragment="page">
    <link rel="stylesheet" href="/css/pagination.css">

    <div style="margin-top: -29px;height:50px">
        <div id="pagination" class="pagination" style="float: right"/>
    </div>

    <script th:inline="javascript">
        /*<![CDATA[*/
        var url; //请求路径
        var pages = [[${page}]];
        console.log(pages);
        console.log(pages.size);
        /*]]>*/
        $.jqPaginator('#pagination', {
            totalPages: pages.pages,  //设置分页的总页数
            totalCounts: pages.total, //设置分页的总条目数
            visiblePages: 3, //设置最多显示的页码数
            currentPage: pages.current, //设置当前的页码
            pageSize: pages.size,
            first: '<li class="first"><a href="javascript:;">首页</a></li>',
            prev: '<li class="prev"><a href="javascript:;">上一页</a></li>',
            next: '<li class="next"><a href="javascript:;">下一页</a></li>',
            last: '<li class="last"><a href="javascript:;">末页</a></li>',
            page: '<li class="page"><a href="javascript:;">{{page}}</a></li>',
            onPageChange: function (num, type) { //换页方法

                console.log(url);
                // 当前第几页
                $("#current-page").text(pages.current);


                initData2(url, null);
            }
        });
        /*将加载文章,文章分类,标签分类重构成一个方法*/
        function initData2(url, id) {
            $.ajax({
                type: 'GET',
                url: url,
                success: function (data) {
//                $("#main-article").html(data);
                    //初始化文章分页信息
                    //初始化文章
                    /*分享初始化*/
//            $(".socialShare").socialShare({
//                content: "EumJi在IT,生活,音乐方面的分享",
//                url: "www.eumji025.com/",
//                title: $("#article-title").text(),
//                summary: 'Eumji个人博客分享,欢迎指教',
//                pic: 'http://of8rkrh1w.bkt.clouddn.com/2017/4/21/touxiang.jpg'
//            });
                    $('#loader-wrapper .load_title').remove();
                }
            })
        }

    </script>
</div>
</html>

